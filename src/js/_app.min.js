"use strict";

// Desktop
// Home > Carousel
var interacCarouselHilight = document.getElementsByClassName("interac-carousel-hilight");
var interacCarouselProducts = document.getElementsByClassName("interac-carousel-products");
var interacCarouselProviders = document.getElementsByClassName("interac-carousel-providers");

if (undefined !== interacCarouselHilight && interacCarouselHilight.length) {
  var carouselHilight = tns({
    container: ".interac-carousel-hilight",
    items: 1,
    slideBy: "page",
    autoplay: true,
    mouseDrag: true,
    controls: false,
    autoplayButtonOutput: false,
    navPosition: "bottom",
  });
}

if (undefined !== interacCarouselProducts && interacCarouselProducts.length) {
  var carouselProviders = tns({
    container: ".interac-carousel-products",
    items: 7,
    autoplay: true,
    mouseDrag: true,
    controls: false,
    nav: false,
    autoplayButtonOutput: false,
  });
}

if (undefined !== interacCarouselProviders && interacCarouselProviders.length) {
  var carouselProviders = tns({
    container: ".interac-carousel-providers",
    items: 7,
    autoplay: true,
    mouseDrag: true,
    controls: false,
    nav: false,
    autoplayButtonOutput: false,
  });
}

// Mobile
// Home > Products
var interacButtonProducts = document.getElementsByClassName("interac-button-products")[0];
var interacSlideProducts = document.getElementsByClassName("interac-slide-mobileproviders")[0];
var interacSlidemmodal = document.getElementsByClassName("interac-slide-mobilemodal")[0];

if (undefined !== interacButtonProducts && interacButtonProducts.length) {
  gsap.set(interacSlideProducts, {
    display: "none",
  });

  var showProviders = false;

  interacButtonProducts.addEventListener("click", () => {
    showProviders = !showProviders;

    if (showProviders === true) {
      gsap.set(interacButtonProducts, {
        className: "+=button-navbar -active",
      });

      gsap.to(interacSlidemmodal, {
        duration: 0.25,
        y: "-3rem",

        onComplete: function () {
          gsap.to(interacSlideProducts, {
            duration: 0.25,
            display: "flex",
            autoAlpha: 1,
          });
        },
      });
    } else {
      gsap.set(interacButtonProducts, {
        className: "-=button-navbar",
      });

      gsap.to(interacSlideProducts, {
        duration: 0.25,
        display: "none",
        autoAlpha: 0,
        onComplete: function () {
          gsap.to(interacSlidemmodal, {
            duration: 0.25,
            y: 0,
          });
        },
      });
    }
  });
}

// Widget
// All > Translation
var interacWidgetTranslate = document.getElementsByClassName("interac-widget-translate");

if (undefined !== interacWidgetTranslate && interacWidgetTranslate.length) {
  // Array Thia ang English
  var arrLang = {
    "th-th": {
      navHome: "หน้าหลัก",
      navSport: "สปอร์ต",
      navCasinos: "คาสิโน",
      navGames: "เกมส์",
      navVirtual: "กีฬาจำลอง",
      navLotto: "หวย",
      formUsername: "ชื่อผู้ใช้งาน",
      formPasswoed: "รหัสผ่าน",
      formSubmit: "เข้าสู่ระบบ",
      productCasinos: "คาสิโน",
      productSport: "สปอร์ต",
      productGames: "เกมส์",
      productVirtual: "กีฬาจำลอง",
      productLotto: "หวย",
      productSlots: "สล็อต",
      copyright: "สงวนลิขสิทธิ์ ©2020 CBT168.COM สงวนสิทธิ์ทุกประการ",
      mNavContactus: "ติดต่อเรา",
      mFormSubmit: "เข้าสู่ระบบ",
      mNavRegister: "สมัครสมาชิก",
      mNavProducts: "ผลิตภัณท์",
      mNavApp: "แอปพลิเคชัน",
      mNavSlip: "สลิป 1.25",
      mFormRemember: "บันทึกรหัสผ่าน",
    },
    "en-gb": {
      navHome: "Home",
      navSport: "Sports",
      navCasinos: "Casinos",
      navGames: "Games",
      navVirtual: "Virtual",
      navLotto: "Lotto",
      formUsername: "Username",
      formPasswoed: "Password",
      formSubmit: "Signin",
      productSport: "Sports",
      productCasinos: "Casinos",
      productGames: "Games",
      productVirtual: "Virtual Sports",
      productLotto: "Lottos",
      productSlots: "Slots",
      copyright: "Copyright ©2020 CBT168.COM all rights reserved.",
      mNavContactus: "Contacts",
      mFormSubmit: "Signin",
      mNavRegister: "Register",
      mNavProducts: "Products",
      mNavApp: "Application",
      mNavSlip: "Slip 1.25",
      mFormRemember: "Remember me",
    },
  };

  // Set Modal lanuages
  $(".interac-lanuages-switch").on("click", function () {
    gsap.to(".interac-lanuages-modal", {
      duration: 0.25,
      autoAlpha: 1,
    });
  });

  // The default language is Thai language
  var language = "th-th";

  // Check for localStorage support
  if ("localStorage" in window) {
    var usrLanguage = localStorage.getItem("uiLanguage");

    if (usrLanguage) {
      language = usrLanguage;
    }

    if (language === "th-th") {
      $(".interac-lanuages-switch").css("background-image", 'url("/src/assets/icons/flag/th.webp")');

      gsap.set(".interac-translate-lanuage.-en", {
        display: "block",
        autoAlpha: 1,
      });

      gsap.set(".interac-translate-lanuage.-th", {
        display: "none",
        autoAlpha: 0,
      });
    } else if (language === "en-gb") {
      $(".interac-lanuages-switch").css("background-image", 'url("/src/assets/icons/flag/en.webp")');

      gsap.set(".interac-translate-lanuage.-en", {
        display: "none",
        autoAlpha: 0,
      });

      gsap.set(".interac-translate-lanuage.-th", {
        display: "block",
        autoAlpha: 1,
      });
    }
  }

  $(document).ready(function () {
    $(".ml-language").each(function (index, element) {
      $(this).text(arrLang[language][$(this).data("language")]);
    });

    $(".input-language").each(function (index, element) {
      $(this).attr("placeholder", arrLang[language][$(this).data("language")]);
    });
  });

  // get or set the selected language
  $(".interac-translate-lanuage").on("click", function () {
    var language = $(this).attr("id");

    // Update localStorage key
    if ("localStorage" in window) {
      localStorage.setItem("uiLanguage", language);
    }

    $(".ml-language").each(function (index, element) {
      $(this).text(arrLang[language][$(this).data("language")]);
    });

    $(".input-language").each(function (index, element) {
      $(this).attr("placeholder", arrLang[language][$(this).data("language")]);
    });

    // Update Flag
    if (language === "th-th") {
      $(".interac-lanuages-switch").css("background-image", 'url("/src/assets/icons/flag/th.webp")');

      gsap.set(".interac-translate-lanuage.-en", {
        display: "block",
        autoAlpha: 1,
      });

      gsap.set(".interac-translate-lanuage.-th", {
        display: "none",
        autoAlpha: 0,
      });
    } else if (language === "en-gb") {
      $(".interac-lanuages-switch").css("background-image", 'url("/src/assets/icons/flag/en.webp")');

      gsap.set(".interac-translate-lanuage.-en", {
        display: "none",
        autoAlpha: 0,
      });

      gsap.set(".interac-translate-lanuage.-th", {
        display: "block",
        autoAlpha: 1,
      });
    }

    gsap.to(".interac-lanuages-modal", {
      duration: 0.25,
      autoAlpha: 0,
    });
  });
}
